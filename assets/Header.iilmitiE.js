import{B as a,s as e,f as t,c as n,o as i,r as l,m as o,a as r,b as s,t as c,n as u,d,_ as v,e as p,u as m,g as b,h as g,i as f,j as y,k as h,w as k,l as w,p as x,q as z,v as C,F as S,x as L,y as E}from"./index.BHAZvgIB.js";import{s as A}from"./index.Bp31CGJR.js";var P=a.extend({name:"avatar",style:"\n    .p-avatar {\n        display: inline-flex;\n        align-items: center;\n        justify-content: center;\n        width: dt('avatar.width');\n        height: dt('avatar.height');\n        font-size: dt('avatar.font.size');\n        background: dt('avatar.background');\n        color: dt('avatar.color');\n        border-radius: dt('avatar.border.radius');\n    }\n\n    .p-avatar-image {\n        background: transparent;\n    }\n\n    .p-avatar-circle {\n        border-radius: 50%;\n    }\n\n    .p-avatar-circle img {\n        border-radius: 50%;\n    }\n\n    .p-avatar-icon {\n        font-size: dt('avatar.icon.size');\n        width: dt('avatar.icon.size');\n        height: dt('avatar.icon.size');\n    }\n\n    .p-avatar img {\n        width: 100%;\n        height: 100%;\n    }\n\n    .p-avatar-lg {\n        width: dt('avatar.lg.width');\n        height: dt('avatar.lg.width');\n        font-size: dt('avatar.lg.font.size');\n    }\n\n    .p-avatar-lg .p-avatar-icon {\n        font-size: dt('avatar.lg.icon.size');\n        width: dt('avatar.lg.icon.size');\n        height: dt('avatar.lg.icon.size');\n    }\n\n    .p-avatar-xl {\n        width: dt('avatar.xl.width');\n        height: dt('avatar.xl.width');\n        font-size: dt('avatar.xl.font.size');\n    }\n\n    .p-avatar-xl .p-avatar-icon {\n        font-size: dt('avatar.xl.icon.size');\n        width: dt('avatar.xl.icon.size');\n        height: dt('avatar.xl.icon.size');\n    }\n\n    .p-avatar-group {\n        display: flex;\n        align-items: center;\n    }\n\n    .p-avatar-group .p-avatar + .p-avatar {\n        margin-inline-start: dt('avatar.group.offset');\n    }\n\n    .p-avatar-group .p-avatar {\n        border: 2px solid dt('avatar.group.border.color');\n    }\n\n    .p-avatar-group .p-avatar-lg + .p-avatar-lg {\n        margin-inline-start: dt('avatar.lg.group.offset');\n    }\n\n    .p-avatar-group .p-avatar-xl + .p-avatar-xl {\n        margin-inline-start: dt('avatar.xl.group.offset');\n    }\n",classes:{root:function(a){var e=a.props;return["p-avatar p-component",{"p-avatar-image":null!=e.image,"p-avatar-circle":"circle"===e.shape,"p-avatar-lg":"large"===e.size,"p-avatar-xl":"xlarge"===e.size}]},label:"p-avatar-label",icon:"p-avatar-icon"}});function M(a){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function _(a,e,t){return(e=function(a){var e=function(a,e){if("object"!=M(a)||!a)return a;var t=a[Symbol.toPrimitive];if(void 0!==t){var n=t.call(a,e);if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(a)}(a,"string");return"symbol"==M(e)?e:e+""}(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var j={name:"Avatar",extends:{name:"BaseAvatar",extends:e,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},size:{type:String,default:"normal"},shape:{type:String,default:"square"},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:P,provide:function(){return{$pcAvatar:this,$parentInstance:this}}},inheritAttrs:!1,emits:["error"],methods:{onError:function(a){this.$emit("error",a)}},computed:{dataP:function(){return t(_(_({},this.shape,this.shape),this.size,this.size))}}},I=["aria-labelledby","aria-label","data-p"],B=["data-p"],D=["data-p"],$=["src","alt","data-p"];j.render=function(a,e,t,v,p,m){return i(),n("div",o({class:a.cx("root"),"aria-labelledby":a.ariaLabelledby,"aria-label":a.ariaLabel},a.ptmi("root"),{"data-p":m.dataP}),[l(a.$slots,"default",{},function(){return[a.label?(i(),n("span",o({key:0,class:a.cx("label")},a.ptm("label"),{"data-p":m.dataP}),c(a.label),17,B)):a.$slots.icon?(i(),r(d(a.$slots.icon),{key:1,class:u(a.cx("icon"))},null,8,["class"])):a.icon?(i(),n("span",o({key:2,class:[a.cx("icon"),a.icon]},a.ptm("icon"),{"data-p":m.dataP}),null,16,D)):a.image?(i(),n("img",o({key:3,src:a.image,alt:a.ariaLabel,onError:e[0]||(e[0]=function(){return m.onError&&m.onError.apply(m,arguments)})},a.ptm("image"),{"data-p":m.dataP}),null,16,$)):s("",!0)]})],16,I)};const R={class:"page-container"},U={class:"custom-header"},H={class:"left-section"},N={class:"right-section"},O={class:"account-trigger"},q={key:0,class:"account-dropdown"},F={class:"account-dropdown-content"},K={class:"account-info"},T={class:"account-name"},W={class:"account-email"},G={class:"mobile-user-info"},J={class:"mobile-user-name"},Q={class:"mobile-user-email"},V={class:"mobile-create-section"},X={class:"mobile-menu-list"},Y=v({__name:"Header",setup(a){const e=z();p(!1);const t=p(!1),l=p(!1),o=p(!1),u=p(m.getCurrentUser()),d=b(()=>null!==u.value),v=b(()=>{if(!u.value)return"";return(u.value.username||u.value.name||"").split(" ").map(a=>a.charAt(0)).join("").toUpperCase().substring(0,2)});function P(){u.value=m.getCurrentUser()}function M(){o.value=window.innerWidth<768}function _(){l.value=!l.value,l.value?document.body.style.overflow="hidden":document.body.style.overflow=""}function I(){l.value=!1,document.body.style.overflow=""}function B(a){I(),e.push(a)}g(()=>{window.addEventListener("loginStateChanged",P),window.addEventListener("resize",M),M()}),f(()=>{window.removeEventListener("loginStateChanged",P),window.removeEventListener("resize",M),document.body.style.overflow=""});const D=()=>{I(),e.push("/myAccount")},$=()=>{I(),e.push("/credits")},Y=()=>{I(),e.push("/paymentHistory")},Z=()=>{I(),m.logout(),window.dispatchEvent(new Event("loginStateChanged")),window.location.reload()};return(a,p)=>{const m=w("router-link");return i(),n("div",R,[s(" Mobile Menu Button (visible only on mobile) "),y("div",U,[y("div",H,[h(m,{to:"/",class:"logo-container"},{default:k(()=>[...p[8]||(p[8]=[y("i",{class:"pi pi-box logo-icon"},null,-1),y("span",{class:"logo-text"},"ICEBREAKER",-1)])]),_:1}),s(" Desktop Create Dropdown "),d.value&&!o.value?(i(),r(x(C),{key:0,label:"Create",icon:"pi pi-plus",class:"create-button",onClick:p[0]||(p[0]=a=>x(e).push("/deck"))})):s("v-if",!0)]),y("div",N,[s(" Desktop Navigation "),o.value?s("v-if",!0):(i(),n(S,{key:0},[h(m,{to:"/about",class:"menu-item"},{default:k(()=>[...p[9]||(p[9]=[E("About",-1)])]),_:1}),h(m,{to:"/rules",class:"menu-item"},{default:k(()=>[...p[10]||(p[10]=[E("Rules",-1)])]),_:1})],64)),d.value?(i(),n(S,{key:1},[s(" Desktop Account Dropdown "),o.value?s("v-if",!0):(i(),n("div",{key:0,class:"account-dropdown-container",onMouseenter:p[1]||(p[1]=a=>t.value=!0),onMouseleave:p[2]||(p[2]=a=>t.value=!1)},[y("div",O,[h(x(j),{label:v.value,class:"header-avatar",size:"normal"},null,8,["label"])]),t.value?(i(),n("div",q,[y("div",F,[y("div",{class:"account-header",onClick:D},[h(x(j),{label:v.value,class:"dropdown-avatar",size:"large"},null,8,["label"]),y("div",K,[y("span",T,c(u.value.username||u.value.name),1),y("span",W,c(u.value.email),1)])]),y("div",{class:"account-menu"},[y("div",{class:"account-menu-item",onClick:$},[...p[11]||(p[11]=[y("i",{class:"pi pi-wallet"},null,-1),y("span",null,"Credits",-1)])]),y("div",{class:"account-menu-item",onClick:Y},[...p[12]||(p[12]=[y("i",{class:"pi pi-history"},null,-1),y("span",null,"Payment history",-1)])]),p[14]||(p[14]=y("div",{class:"account-divider"},null,-1)),y("div",{class:"account-menu-item logout-item",onClick:Z},[...p[13]||(p[13]=[y("span",null,"Log out",-1)])])])])])):s("v-if",!0)],32)),s(" Mobile Menu Items (visible in overlay) "),o.value&&l.value?(i(),n("div",{key:1,class:"mobile-menu-overlay",onClick:I},[y("div",{class:"mobile-menu-content",onClick:p[6]||(p[6]=L(()=>{},["stop"]))},[s(" User Info Section "),y("div",{class:"mobile-user-section",onClick:D},[h(x(j),{label:v.value,class:"mobile-avatar",size:"xlarge",shape:"circle"},null,8,["label"]),y("div",G,[y("span",J,c(u.value.username||u.value.name),1),y("span",Q,c(u.value.email),1)]),h(x(C),{icon:"pi pi-chevron-right",text:"",rounded:""})]),h(x(A)),s(" Create Options "),y("div",V,[s('                <h3 class="mobile-section-title">Create</h3>'),d.value?(i(),r(x(C),{key:0,label:"Create",icon:"pi pi-plus",class:"mobile-menu-item",onClick:p[3]||(p[3]=a=>x(e).push("/deck")),text:"",severity:"secondary"})):s("v-if",!0)]),h(x(A)),s(" Navigation Menu "),y("div",X,[h(x(C),{label:"About",icon:"pi pi-info-circle",class:"mobile-menu-item",onClick:p[4]||(p[4]=a=>B("/about")),text:"",severity:"secondary"}),h(x(C),{label:"Rules",icon:"pi pi-book",class:"mobile-menu-item",onClick:p[5]||(p[5]=a=>B("/rules")),text:"",severity:"secondary"}),h(x(C),{label:"Credits",icon:"pi pi-wallet",class:"mobile-menu-item",onClick:$,text:"",severity:"secondary"}),h(x(C),{label:"Payment History",icon:"pi pi-history",class:"mobile-menu-item",onClick:Y,text:"",severity:"secondary"})]),h(x(A)),s(" Logout Button "),h(x(C),{label:"Log Out",icon:"pi pi-sign-out",class:"mobile-logout-button",onClick:Z,severity:"danger",outlined:""})])])):s("v-if",!0),s(" Mobile Avatar (visible when menu is closed) "),o.value&&!l.value?(i(),r(x(j),{key:2,label:v.value,class:"mobile-avatar-button",size:"normal",onClick:_},null,8,["label"])):s("v-if",!0)],64)):(i(),n(S,{key:2},[s(" Mobile Login Button "),o.value?(i(),r(x(C),{key:0,label:"Log In",icon:"pi pi-sign-in",class:"mobile-login-button",onClick:p[7]||(p[7]=a=>x(e).push("/login")),outlined:"",size:"small"})):(i(),n(S,{key:1},[s(" Desktop Login Link "),h(m,{to:"/login",class:"menu-item"},{default:k(()=>[...p[15]||(p[15]=[E("Log In",-1)])]),_:1})],2112))],64))])])])}}},[["__scopeId","data-v-f1569878"]]);export{Y as default};
